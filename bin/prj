#!/usr/bin/env nu

def main [] {
  let prj = do { zoxide query --list | rofi -dmenu } | complete
  if $prj.exit_code == 0 and $prj.stdout != "" {
    let $project = $prj.stdout | str trim
    echo $"opening project ($project)"
    kitty --single-instance $project
    codium -n $project
  } else {
    echo "no project found, exiting"
    exit 1
  }
}
